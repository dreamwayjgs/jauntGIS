(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(38)},24:function(e,t,a){},27:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),o=a.n(r),c=(a(24),a(1)),i=a(2),l=a(4),d=a(3),u=a(6),m=a(5),p=(a(25),a(26),a(27),a(14)),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={lat:"",lng:""},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.updateMapCenter(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return N.p(this,"render"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-row align-items-center"},s.a.createElement("div",{className:"col-auto"},s.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInput"},"Latitude"),s.a.createElement("input",{type:"text",className:"form-control mb-2 coord",id:"inlineFormInput",placeholder:"Latitude",value:this.state.lat,onChange:this.handleChange,name:"lat"})),s.a.createElement("div",{className:"col-auto"},s.a.createElement("label",{className:"sr-only",htmlFor:"inlineFormInput"},"Latitude"),s.a.createElement("input",{type:"text",className:"form-control mb-2 coord",id:"inlineFormInput",placeholder:"Longitude",value:this.state.lng,onChange:this.handleChange,name:"lng"})),s.a.createElement("div",{className:"col-auto"},s.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Go"))))}}]),t}(n.Component),h=a(9),b=a.n(h),v=a(15),g=window.daum.maps,E=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"markerImage",get:function(){return new g.MarkerImage("http://localimg.daum-img.net/localimages/07/2009/map/icon/blog_icon01_on.png",new g.Size(31,35),{offset:new g.Point(16,34),alt:"\ub9c8\ucee4 \uc774\ubbf8\uc9c0 \uc608\uc81c",shape:"poly",coords:"1,20,1,9,5,2,10,0,21,0,27,3,30,9,30,20,17,33,14,33"})}}],[{key:"getAddress",value:function(){var e=Object(v.a)(b.a.mark(function e(t,a){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.coord2AddressDaum(t,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"coord2AddressDaum",value:function(e,t){return new Promise(function(a){(new g.services.Geocoder).coord2Address(t,e,function(e,t){t===g.services.Status.OK&&a(e[0].address.address_name),a("\ud574\ub2f9 \uc704\uce58 \uc8fc\uc18c \uc5c6\uc74c")})})}}]),e}(),x=window.daum.maps,y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={centerLat:0,centerLng:0,address:"",map:null,markers:[],fixes:[]},a.moveMapCenter=function(e,t){a.setState({centerLat:e,centerLng:t},function(){a.state.map.setCenter(new x.LatLng(e,t)),E.getAddress(e,t).then(function(e){a.setState({address:e})})})},a.updateMapCenter=function(e){a.moveMapCenter(e.lat,e.lng)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.markers!==this.state.markers&&this.state.markers.map(function(e,t){x.event.addListener(e,"click",function(){a.moveMapCenter(e.getPosition().getLat(),e.getPosition().getLng()),a.props.onFocus(t);var n=a.state.fixes;new x.InfoWindow({content:"<div>\n                        <span>Src: ".concat(n[t].srcId," </span>\n                        <span>Id: ").concat(n[t].id," </span>\n                        <span style='background-color:#").concat(n[t].color,";'>").concat(n[t].color,"</span>\n                        </div>"),removable:!0}).open(a.state.map,e)})})}},{key:"shouldComponentUpdate",value:function(e,t){var a=this;if(this.props.isFixUpdated){N.p(this,"marker update",this.props,e,this.state,t);var n=e.fixes,s=[this.state.centerLat,this.state.centerLng];n.length>this.state.fixes.length&&(s=[n[this.state.fixes.length].lat,n[this.state.fixes.length].lng]),this.setState({fixes:n,markers:n.map(function(e){return e.daumMarker(a.state.map)}),centerLat:s[0],centerLng:s[1]},function(){console.log("marker OK"),a.moveMapCenter(a.state.centerLat,a.state.centerLng)})}return!0}},{key:"componentDidMount",value:function(){var e=this;x.load(function(){var t=new x.Map(document.getElementById("map"),{center:new x.LatLng(33.4863,126.489),level:3});E.getAddress(37.555589,127.049051).then(function(a){e.setState({address:a,centerLat:37.555589,centerLng:127.049051,map:t})}),x.event.addListener(t,"dragend",function(){var a=t.getCenter();E.getAddress(a.getLat(),a.getLng()).then(function(t){e.setState({centerLat:a.getLat(),centerLng:a.getLng(),address:t})})})})}},{key:"render",value:function(){return N.p(this,"render"),s.a.createElement("div",{className:"d-flex flex-column h-100"},s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("div",{className:"px-1"},s.a.createElement(f,{updateMapCenter:this.updateMapCenter})),s.a.createElement("div",{className:"px-1",id:"currentpos"},"\ud604\uc7ac \uc911\uc2ec: ",this.state.centerLat,", ",this.state.centerLng," ",s.a.createElement("br",null)," \uc8fc\uc18c: ",this.state.address)),s.a.createElement("div",{className:"d-flex h-100"},s.a.createElement("div",{className:"w-100 h-100",id:"map"},"\uc9c0\ub3c4 \ud45c\uc2dc\ub418\ub294 \uacf5\uac04")))}}]),t}(n.Component),N=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"p",value:function(){switch(arguments[0].constructor.name){case"App":case"DataMaster":case"DataControl":case"DataSource":case"FileForm":case"MapProvider":case"CoordForm":return}for(var e={},t=1;t<arguments.length;t++)e[t]=arguments[t]}}]),e}(),S=a(7),w=a.n(S),C=a(8),k=a.n(C),F=a(16),j=a.n(F),O=a(17),I=a.n(O),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={file:null,csv:null,fileName:"Choose Files"},a.onFormSubmit=a.onFormSubmit.bind(Object(u.a)(a)),a.onChange=a.onChange.bind(Object(u.a)(a)),a.fileUpload=a.fileUpload.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();try{console.dir(this.state.file);var a=this.state.file.name,n={delimiter:",",header:!0,complete:function(e){console.log("Finished:",e.data),t.setState({csv:e,fileName:a}),t.props.onCreate(t.state)}};I.a.parse(this.state.file,n)}catch(e){alert("\uc798\ubabb\ub41c \ud30c\uc77c \ub610\ub294 \ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",e)}}},{key:"onChange",value:function(e){try{this.setState({file:e.target.files[0],fileName:e.target.files[0].name})}catch(e){console.log("\uc5c5\ub85c\ub4dc \ucde8\uc18c"),this.setState({fileName:"Choose File"})}}},{key:"fileUpload",value:function(e){return console.log(e),-1}},{key:"render",value:function(){return N.p(this,"render"),s.a.createElement("div",{className:"modal",id:"fileform",role:"dialog"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"CSV \ud30c\uc77c \uc5c5\ub85c\ub4dc"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body uploader"},"Available Headers (deviceid, lat, lng, timestamp)",s.a.createElement("form",{className:"form-inline",onSubmit:this.onFormSubmit},s.a.createElement("div",{className:"input-group container-fluid w-100"},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"csvFile",onChange:this.onChange}),s.a.createElement("label",{className:"custom-file-label d-flex justify-content-center",htmlFor:"csvFile"},this.state.fileName)),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-primary",type:"submit"},"Upload"))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Done")))))}}]),t}(n.Component),U=function(){function e(t,a,n,s,r,o){Object(c.a)(this,e),this.id=t,this.name=a,this.type=n,this.color=s,this.positions=r,this.fields=o}return Object(i.a)(e,[{key:"toHtmlString",value:function(){return"<tr>\n        <td>".concat(this.id,"</td>\n        <td>").concat(this.name,"</td>\n        <td>").concat(this.type,"</td>\n        <td>").concat(this.color,"</td>        \n        </tr>")}},{key:"html",get:function(){return this.toHtmlString()}}]),e}(),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={dataSources:[],dataSrcId:0},a.closePanel=function(){a.props.onClose(a.state)},a.handleFile=function(e){console.log(e);var t=new U(a.state.dataSrcId,e.file.name,"csv",j()({seed:e.file.name}).replace("#",""),e.csv.data,e.csv.meta.fields);a.setState(function(e){return{dataSrcId:e.dataSrcId+1,dataSources:e.dataSources.concat(t)}}),a.props.onDataUpdate(a.state)},a.removeDataSrc=function(e){var t=e.target.parentNode.parentNode,n=parseInt(w()(t).attr("datasrcid"));a.setState({dataSources:a.state.dataSources.filter(function(e){return e.id!==n})},function(){0==a.state.dataSources.length&&a.setState({dataSrcId:0})}),N.p(Object(u.a)(a),"src removed"),a.props.onDataUpdate(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){N.p(this,"render after")}},{key:"shouldComponentUpdate",value:function(e,t){if(N.p(this,"beforeUpdate",this.props,e,this.state,t),this.props.isSrcUpdated)return!0;switch(e.promptType){case"csv":w()("#fileform").modal("show")}return this.props.isVisible!==e.isVisible}},{key:"render",value:function(){var e=this;N.p(this,"render");var t=this.state.dataSources.map(function(t){return s.a.createElement("tr",{key:t.id,datasrcid:t.id},s.a.createElement("th",{scope:"row"},t.id),s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.type),s.a.createElement("td",{style:{backgroundColor:t.color}},t.color),s.a.createElement("td",null,t.positions.length),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-danger",onClick:e.removeDataSrc},"Remove")))});return s.a.createElement(k.a,{position:"right",zIndex:1100,dimMode:"none",isVisible:this.props.isVisible},s.a.createElement("div",{className:"container-fluid m-2"},s.a.createElement("div",{className:"row my-2"},s.a.createElement("div",{className:"col d-flex align-items-center"},s.a.createElement("button",{className:"btn btn-danger",onClick:this.closePanel}," Close ")),s.a.createElement("div",{className:"col d-flex align-items-center"},s.a.createElement("h5",null,"Data Sources")),s.a.createElement("div",{className:"d-flex col justify-content-end"},s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:"btn btn-success","data-toggle":"modal","data-target":"#fileform"}," CSV "),s.a.createElement("button",{className:"btn btn-primary"}," SQL "),s.a.createElement("button",{className:"btn btn-info"}," API ")))),s.a.createElement("div",{className:"row my-2"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"id"),s.a.createElement("th",{scope:"col"},"name"),s.a.createElement("th",{scope:"col"},"type"),s.a.createElement("th",{scope:"col"},"color"),s.a.createElement("th",{scope:"col"},"positions"),s.a.createElement("th",{scope:"col"}))),s.a.createElement("tbody",null,t)))),s.a.createElement(D,{onCreate:this.handleFile}))}}]),t}(n.Component),M=a(18),V=a.n(M),A=window.daum.maps,T=function(){function e(t,a,n,s,r,o,i,l,d){Object(c.a)(this,e),this.srcId=t,this.deviceId=a,this.id=n,this.lat=parseFloat(s),this.lng=parseFloat(r),this.fixtime=o||"NaT",this.servertime=i||this.fixtime,this.color=l}return Object(i.a)(e,[{key:"daumMarker",value:function(e){return new A.Marker({map:e,clickable:!0,position:new A.LatLng(this.lat,this.lng),image:new A.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+this.color,new A.Size(31,35),{offset:new A.Point(16,34),alt:"Source: "+this.srcId,shape:"poly",coords:"1,20,1,9,5,2,10,0,21,0,27,3,30,9,30,20,17,33,14,33"})})}}],[{key:"srcToFixGroups",value:function(t){var a=t.id,n=t.color,s=[];return t.positions.some(function(t,r){t.deviceId=t.deviceId?t.deviceId:a,t.id=t.id?t.id:r;var o=new e(a,t.deviceId,t.id,t.lat,t.lng,t.fixtime,t.servertime,n);return s.push(o),console.log(r,100),99===r}),s}},{key:"flattenFixGroups",value:function(e){var t=[];return e.forEach(function(e){t=t.concat(e)}),t}}]),e}(),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={dataSources:a.props.dataSources,isFixUpdated:!1,fixGroups:[],fixes:[],lastFixId:0},a.closePanel=function(){a.props.onClose(a.state)},a.toggleMarker=function(e){var t=w()(e.target).closest("tr"),a=parseInt(w()(t).attr("fixid"));console.log("\uc774 \ub9c8\ucee4\ub97c \ubc14\uafd4\uc694",t,a)},a.handleChange=function(e){var t=w()(e.currentTarget).closest("tr"),n=parseInt(w()(t).attr("fixid"));/^[0-9A-F]{6}$/i.test(e.target.value)&&a.setState({fixes:a.state.fixes.map(function(t){return t.id===n&&(t.color=e.target.value),t})},function(){N.p("fix color \uc5c5\ub370\uc774\ud2b8",a.state.fixes),a.props.onUpdate(a.state.fixes)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){if(N.p(this,"\ud074\ub9ad\ub41c \ub9c8\ucee4",this.props.focusFixId),this.props.focusFixId!==e.focusFixId){var a=e.focusFixId;console.log("\ud3ec\ucee4\uc2a4 \ubcc0\uacbd",a,w()("#fixtable tr[fixid='".concat(a,"']")).html()),console.log("\uc2a4\ud06c\ub864\ub9c1",w()("#fixtable tr[fixid='".concat(a,"']")).offset().top),w()("#datacontrol").animate({scrollTop:w()("#fixtable tr[fixid='".concat(a,"']")).offset().top},2e3)}if(this.props.isSrcUpdated){N.p(this,"fix updates!");var n=e.dataSources.map(T.srcToFixGroups);return this.setState({fixGroups:n,lastFixId:n.map(function(e){return e.length}).reduce(function(e,t){return e+t}),fixes:T.flattenFixGroups(n)}),this.props.onUpdate(T.flattenFixGroups(n)),!0}return!0}},{key:"render",value:function(){var e=this;N.p(this,"render");var t=this.state.fixes.map(function(t,a){return s.a.createElement("tr",{key:a,fixid:a,scope:"row"},s.a.createElement("td",null,t.srcId),s.a.createElement("td",null,t.deviceId),s.a.createElement("td",null,t.id),s.a.createElement("td",null,t.lat),s.a.createElement("td",null,t.lng),s.a.createElement("td",null,t.fixtime),s.a.createElement("td",null,t.servertime),s.a.createElement("td",{style:{backgroundColor:"#"+t.color}},s.a.createElement(V.a,{html:t.color,disabled:!1,onChange:e.handleChange,className:"fixid".concat(t.id)})),s.a.createElement("td",{className:"w-15"},s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{onClick:e.toggleMarker,className:"btn btn-secondary"},"Show/Hide"),s.a.createElement("button",{className:"btn btn-secondary"},"Fn2"),s.a.createElement("button",{className:"btn btn-secondary"},"Fn3"))))});return s.a.createElement(k.a,{id:"datacontrol",position:"bottom",zIndex:1101,dimMode:"none",isVisible:this.props.isVisible},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row mt-2"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-danger",onClick:this.closePanel}," Close ")),s.a.createElement("div",{className:"col d-flex align-items-center"},s.a.createElement("h5",null,"Data Control")),s.a.createElement("div",{className:"col-3 d-flex justify-content-end mr-1"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"number",className:"form-control",placeholder:"Max # of Points (100)"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-success"}," Reset (\uc608\uc815.. \uc0c8\ub85c\uace0\uce68\ud558\uc138\uc694) "),s.a.createElement("button",{className:"btn btn-outline-primary"}," Fn2 "))))),s.a.createElement("div",{className:"row"},s.a.createElement("table",{id:"fixtable",className:"table table-sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",className:"w-10"},"Source ID"),s.a.createElement("th",{scope:"col",className:"w-11"},"Device ID"),s.a.createElement("th",{scope:"col",className:"w-10"},"id"),s.a.createElement("th",{scope:"col",className:"w-10"},"lat"),s.a.createElement("th",{scope:"col",className:"w-10"},"lng"),s.a.createElement("th",{scope:"col",className:"w-14"},"fixtime"),s.a.createElement("th",{scope:"col",className:"w-14"},"servertime"),s.a.createElement("th",{scope:"col",className:"w-10"},"color"),s.a.createElement("th",{scope:"col",className:"w-10"},"show/hide"))),s.a.createElement("tbody",null,t)))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={data:null,isVisiableDataSource:!1,isVisiableDataControl:!0,promptType:null,dataSources:[],isSrcUpdated:!1,fixes:a.props.fixes,focusFixId:a.props.focusFixId},a.closeDataControl=function(){a.setState({isVisiableDataControl:!1})},a.toggleDataControl=function(){a.setState({isVisiableDataControl:!a.state.isVisiableDataControl},function(){console.log("\ud1a0\uae00DC",a.state.isVisiableDataControl)})},a.updateFixes=function(e){N.p(Object(u.a)(a),"updated fixes",e),a.setState({fixes:e}),a.props.updateFixes(e)},a.openWithCsv=function(){a.setState({isVisiableDataSource:!0,promptType:"csv"})},a.closeDataSource=function(){a.setState({isVisiableDataSource:!1,promptType:null})},a.toggleDataSource=function(){N.p(Object(u.a)(a),"toggle"),a.setState({isVisiableDataSource:!a.state.isVisiableDataSource,promptType:null})},a.dataUpdate=function(e){N.p(Object(u.a)(a),"src list change"),a.setState({dataSources:e.dataSources,isSrcUpdated:!0})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){"csv"===this.state.promptType&&this.setState({promptType:null}),this.state.isSrcUpdated&&(N.p(this,"\uc5c5\ub383 \ud2b8\ub79c\uc7ad\uc158 \uc885\ub8cc"),this.setState({isSrcUpdated:!1}))}},{key:"shouldComponentUpdate",value:function(e,t){return N.p(this,"beforeUpdate/sourceupdated?",this.state,t),!0}},{key:"render",value:function(){return N.p(this,"render"),s.a.createElement("div",{className:"dataMaster"},s.a.createElement("div",{className:"d-flex justify-content-starts"},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light col"},s.a.createElement("a",{className:"navbar-brand",href:"/"},"DataMaster"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"true","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},s.a.createElement("div",{className:"navbar-nav"},s.a.createElement("button",{className:"btn btn-outline-primary mx-2",onClick:this.toggleDataControl},"Data Control"),s.a.createElement("div",{className:"btn-group mx-2"},s.a.createElement("button",{className:"btn btn-outline-success",onClick:this.toggleDataSource},"Data Sources"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.openWithCsv},"Upload CSV"),s.a.createElement("button",{className:"btn btn-secondary"},"Connect SQL"),s.a.createElement("button",{className:"btn btn-secondary"},"Traccar API")))))),s.a.createElement(L,{onDataUpdate:this.dataUpdate,onClose:this.closeDataSource,isVisible:this.state.isVisiableDataSource,promptType:this.state.promptType,dataSources:this.state.dataSources,isSrcUpdated:this.state.isSrcUpdated}),s.a.createElement(P,{onClose:this.closeDataControl,onUpdate:this.updateFixes,isVisible:this.state.isVisiableDataControl,dataSources:this.state.dataSources,isSrcUpdated:this.state.isSrcUpdated,focusFixId:this.props.focusFixId}))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={fixes:[],isFixUpdated:!1,focusFixId:0},a.updateFixes=function(e){N.p(Object(u.a)(a),"get updated fixes:",e),a.setState({fixes:e,isFixUpdated:!0})},a.focusFix=function(e){console.log("\uc774\ub9c8\ucee4\uac00 \ucc0d\ud798",e),a.setState({focusFixId:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){N.p(this,"after render"),this.state.isFixUpdated&&(N.p(this,"\uc5c5\ub383 \ud2b8\ub79c\uc7ad\uc158 \uc885\ub8cc"),this.setState({isFixUpdated:!1}))}},{key:"render",value:function(){return N.p(this,"render"),s.a.createElement("div",{className:"d-flex flex-column app"},s.a.createElement(G,{fixes:this.state.fixes,updateFixes:this.updateFixes,focusFixId:this.state.focusFixId}),s.a.createElement(y,{fixes:this.state.fixes,isFixUpdated:this.state.isFixUpdated,onFocus:this.focusFix}))}}]),t}(n.Component),_=function(){return s.a.createElement(W,null)},z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(s.a.createElement(_,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/traccar",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/traccar","/service-worker.js");z?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):H(e)})}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.7be40c77.chunk.js.map